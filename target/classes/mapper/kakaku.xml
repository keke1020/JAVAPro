<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mp.dao.kakakuDao">
	<resultMap type="kakaku" id="kakakuResult">
		<id column="ID" property="ID" jdbcType="INTEGER" />
		<result column="code" property="code" jdbcType="VARCHAR" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="genka" property="genka" jdbcType="INTEGER" />
		<result column="haiso" property="haiso" jdbcType="VARCHAR" />
		<result column="raku-price" property="raku_price" jdbcType="INTEGER" />
		<result column="raku-sale" property="raku_sale" jdbcType="INTEGER" />
		<result column="raku-sale-limit" property="raku_sale_limit" jdbcType="TIMESTAMP" />
		<result column="yahoo-price" property="yahoo_price" jdbcType="INTEGER" />
		<result column="yahoo-sale" property="yahoo_sale" jdbcType="INTEGER" />
		<result column="yahoo-sale-limit" property="yahoo_sale_limit" jdbcType="TIMESTAMP" />
		<result column="memo" property="memo" jdbcType="VARCHAR" />
		<result column="update" property="update" jdbcType="TIMESTAMP" />
		<result column="tanto" property="tanto" jdbcType="VARCHAR" />
	</resultMap>

	<select id="getKakaku" resultMap="kakakuResult">
		select * from kakaku
		<choose>
			<when test="sort == '更新順'">
				order by kakaku.update desc
			</when>
			<when test="sort == '文字順（降順）'">
				order by kakaku.code desc
			</when>
			<when test="sort == '文字順（昇順）'">
				order by kakaku.code
			</when>
			<otherwise>

			</otherwise>
		</choose>
		limit #{offset}, #{limit}
	</select>

	<select id="getTotal" resultType="java.lang.Integer">
		select count(*) from `kakaku`
	</select>


</mapper>